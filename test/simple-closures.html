<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Simple tests</title>
        <link rel="stylesheet" href="/node_modules/qunit/qunit/qunit.css">
        
        <script src="/node_modules/qunit/qunit/qunit.js" defer></script>
        <script src="/src/zzDOM.js" defer></script>
        <script src="/src/ss.js" defer></script>
        <script src="/src/mm-closures.js" defer></script>
        <script src="src/app/htmlComparator.js" defer></script>
        <script src="src/app/utils.js" defer></script>
        <script src="src/app/simple.js" defer></script>
        
        <style>
            .outerTests {
                padding: 1em; 
                border: 5px; 
                margin: .5em;
            }
            div.offsetTests {
                width: 100px;
                height: 100px;
                position: absolute;
                background-color: green;
                color: white;
                cursor: pointer;
            }
            #t13-1-div {
                left: 220px;
                top: 35px;
            }
            .selected {
                background-color: green;
                color: white;
            }
            #t13-3-div {
                left: 320px;
                top: 35px;
            }
            #t15-2, #t15-4, #t15-6 {
                display: none;
            }
            .container {
                background-color: yellow;
            }
        </style>
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>
        
        <h2>
            1. text and html
        </h2>
        <ol>
            <li>text: <span id="t1-1">white</span>. Original value is <em>white</em>, modified must be <em>yellow</em>.</li>
            <li>html: <span id="t1-2"><a href="https://www.fsf.org/">FSF</a></span>. Original value is <em>FSF</em>, modified must be <em>mozilla</em>.</li>
        </ol>
        
        <h2>
            2. remove and empty
        </h2>
        <ol>
            <li>remove: <span id="t2-1">To remove</span>. Original value is <em>To remove</em>, modified must be removed.</li>
            <li>empty: <span id="t2-2">To be empty</span>. Original value is <em>To be empty</em>, modified must be empty.</li>
        </ol>
        
        <h2>
            3. replaceWith
        </h2>
        <p>
            replaceWith: <span id="t3-1"><span id="t3-1-in">To replace</span></span>. Original value is <em>To replace</em>, modified must be <em>Replaced text</em>.
        </p>
        
        <h2>
            4. attr and removeAttr
        </h2>
        <ol>
            <li>Link 1: <a id="t4-1" href="https://www.fsf.org/">FSF</a>. Original href attribute is <em>https://www.fsf.org/</em>, modified must be <em>https://www.mozilla.org/</em>.</li>
            <li>Link 2: <a id="t4-2" href="https://www.fsf.org/" name="FSF">FSF</a>. Original name attribute is <em>FSF</em>, modified must be removed.</li>
        </ol>
        
        <h2>
            5. addClass, hasClass, removeClass and toggleClass
        </h2>
        <ol>
            <li>hasClass: <span id="t5-1" class="myclass">A span</span>. A span with 1 class: <em>myclass</em></li>
            <li>addClass: <span id="t5-2" class="myclass">A span</span>. Original has only <em>myclass</em>, modified has also <em>addedclass</em>.</li>
            <li>removeClass: <span id="t5-3" class="myclass otherclass">A span</span>. Original has <em>myclass</em> and <em>otherclass</em>, modified has only <em>myclass</em>.</li>
            <li>toggleClass to addClass: <span id="t5-4" class="myclass">A span</span>. Original has only <em>myclass</em>, modified has also <em>addedclass</em>.</li>
            <li>toggleClass to removeClass: <span id="t5-5" class="myclass otherclass">A span</span>. Original has <em>myclass</em> and <em>otherclass</em>, modified has only <em>myclass</em>.</li>
        </ol>
        
        <h2>
            6. after, before, append and prepend
        </h2>
        <ol>
            <li>
                after: original contains <em>Text 1</em> and <em>Text 2</em>, modified contains <em>Text 1</em>, <em>New text</em> and <em>Text 2</em>.
                <ul id="t6-1">
                    <li id="t6-1-1">Text 1</li>
                    <li id="t6-1-2">Text 2</li>
                </ul>
            </li>
            <li>
                before: original contains <em>Text 1</em> and <em>Text 2</em>, modified contains <em>Text 1</em>, <em>New text</em> and <em>Text 2</em>.
                <ul id="t6-2">
                    <li id="t6-2-1">Text 1</li>
                    <li id="t6-2-2">Text 2</li>
                </ul>
            </li>
            <li>
                append: original contains <em>Text 1</em> and <em>Text 2</em>, modified contains <em>Text 1</em>, <em>Text 2</em> and <em>New text</em>.
                <ul id="t6-3">
                    <li id="t6-3-1">Text 1</li>
                    <li id="t6-3-2">Text 2</li>
                </ul>
            </li>
            <li>
                prepend: original contains <em>Text 1</em> and <em>Text 2</em>, modified contains <em>New text</em>, <em>Text 1</em> and <em>Text 2</em>.
                <ul id="t6-4">
                    <li id="t6-4-1">Text 1</li>
                    <li id="t6-4-2">Text 2</li>
                </ul>
            </li>
        </ol>
        
        <h2>
            7. siblings, prev and next
        </h2>
        <ol>
            <li>
                id attrs of zz( '#t7-1-2' ).siblings() must be [ 't7-1-1', 't7-1-3' ]
                <ul id="t7-1">
                    <li id="t7-1-1">Text 1</li>
                    <li id="t7-1-2">Text 2</li>
                    <li id="t7-1-3">Text 3</li>
                </ul>
            </li>
            <li>
                id attr of zz( '#t7-2-2' ).prev() must be 't7-1-1'
                <ul id="t7-2">
                    <li id="t7-2-1">Text 1</li>
                    <li id="t7-2-2">Text 2</li>
                    <li id="t7-2-3">Text 3</li>
                </ul>
            </li>
            <li>
                id attr of zz( '#t7-3-2' ).next() must be 't7-3-3'
                <ul id="t7-3">
                    <li id="t7-3-1">Text 1</li>
                    <li id="t7-3-2">Text 2</li>
                    <li id="t7-3-3">Text 3</li>
                </ul>
            </li>
            <li>
                id attrs of zz( '#t7-4-2' ).siblings( '.selected' ) must be [ 't7-4-1', 't7-4-4' ]
                <ul id="t7-4">
                    <li id="t7-4-1" class="selected">Text 1</li>
                    <li id="t7-4-2">Text 2</li>
                    <li id="t7-4-3">Text 3</li>
                    <li id="t7-4-4" class="selected">Text 4</li>
                </ul>
            </li>
        </ol>
        
        <h2>
            8. children, index and parent 
        </h2>
        <ol>
            <li>
                id attrs of zz( '#t8-1' ).children() must be [ 't8-1-1', 't8-1-2', 't8-1-3' ]
                <ul id="t8-1">
                    <li id="t8-1-1">Text 1</li>
                    <li id="t8-1-2">Text 2</li>
                    <li id="t8-1-3">Text 3</li>
                </ul>
            </li>
            <li>
                zz( '#t8-2-1' ).index() must be 1.<br>
                zz( '#t8-2-2' ).index() must be 2.<br>
                zz( '#t8-2-3' ).index() must be 3.<br>
                <ul id="t8-2">
                    <li id="t8-2-1">Text 1</li>
                    <li id="t8-2-2">Text 2</li>
                    <li id="t8-2-3">Text 3</li>
                </ul>
            </li>
            <li>
                zz( '#t8-3-1' ).parent().attr( 'id' ) must be 't8-3'.<br>
                zz( '#t8-3-2' ).parent().attr( 'id' ) must be 't8-3'.<br>
                zz( '#t8-3-3' ).parent().attr( 'id' ) must be 't8-3'.<br>
                <ul id="t8-3">
                    <li id="t8-3-1">Text 1</li>
                    <li id="t8-3-2">Text 2</li>
                    <li id="t8-3-3">Text 3</li>
                </ul>
            </li>
            <li>
                id attrs of zz( '#t8-4' ).children( '.selected' ) must be [ 't8-4-1', 't8-4-3' ]
                <ul id="t8-4">
                    <li id="t8-4-1" class="selected">Text 1</li>
                    <li id="t8-4-2">Text 2</li>
                    <li id="t8-4-3" class="selected">Text 3</li>
                </ul>
            </li>
        </ol>
        
        <h2>
            9. filter and find
        </h2>
        <div id="t9-1">
            id attrs of zz( '#t9-1' ).find( '.a' ) must be [ 't9-1-1', 't9-1-2', 't9-1-3-1' ]<br>
            id attrs of zz( '#t9-1' ).find( '.b' ) must be [ 't9-1-1', 't9-1-3-2', 't9-1-4', 't9-1-4-2' ]<br>
            id attrs of zz( '#t9-1' ).find( '.a.b' ) must be [ 't9-1-1' ]<br>
            id attrs of zz( '#t9-1' ).find( '.c' ) must be []<br>
            <div id="t9-1-1" class="a b">A div</div>
            <div id="t9-1-2" class="a">A div</div>
            <div id="t9-1-3">
                A div
                <div id="t9-1-3-1" class="a">A nested div</div>
                <div id="t9-1-3-2" class="b">A nested div</div>
            </div>
            <div id="t9-1-4" class="b">
                A div
                <div id="t9-1-4-1">A nested div</div>
                <div id="t9-1-4-2" class="b">A nested div</div>
            </div>
        </div>
        <div id="t9-2">
            id attrs of zz( '#t9-2-1' ).filter( '.a' ) must be [ 't9-2-1' ]<br>
            id attrs of zz( '#t9-2-1' ).filter( '.b' ) must be []<br>
            id attrs of zz( '#t9-2-1' ).filter( '.a.b' ) must be []<br>
            id attrs of zz( '#t9-2-2' ).filter( '.a' ) must be [ 't9-2-2' ]<br>
            id attrs of zz( '#t9-2-2' ).filter( '.b' ) must be [ 't9-2-2']<br>
            id attrs of zz( '#t9-2-2' ).filter( '.a.b' ) must be [ 't9-2-2']<br>
            id attrs of zz( '#t9-2-3' ).filter( '.a' ) must be []<br>
            id attrs of zz( '#t9-2-3' ).filter( '.b' ) must be []<br>
            id attrs of zz( '#t9-2-3' ).filter( '.a.b' ) must be []<br>
            id attrs of zz( '#t9-2-1' ).filter( function( zzEl ){ return zzEl.attr( 'class') === 'a b' }; ) must be []<br>
            id attrs of zz( '#t9-2-2' ).filter( function( zzEl ){ return zzEl.attr( 'class') === 'a b' }; ) must be [ 't9-2-2' ]<br>
            <div id="t9-2-1" class="a">A div with a class</div>
            <div id="t9-2-2" class="a b">A div with a and b class</div>
            <div id="t9-2-3">A div with no class</div>
        </div>
            
        <h2>
            10. clone and is
        </h2>
        <div id="t10-1">
            <div class="t10-1-1">Hello</div>
            <div id="t10-1-2">Goodbye</div>
        </div>
        
        <div id="t10-2">
            Test for is 1
        </div>
        
        <div id="t10-3">
            Test for is 2
            <ul>
                <li id="t10-3-1" class="t10-3">Element 1</li>
                <li id="t10-3-2" class="t10-3">Element 2</li>
            </ul>
        </div>
        
        <h2>
            11. css
        </h2>
        <ol>
            <li><span id="t11-1">Span 1</span>. No style defined. zz( '#t11-1' ).css( 'color', 'red' ).</li>
            <li><span id="t11-2">Span 2</span>. No style defined. zz( '#t11-2' ).css( 'background-color', 'red' ).</li>
            <li><span id="t11-3" style="color: green">Span 3</span>. Style "color: green" defined. zz( '#t11-3' ).css( 'color', 'red' ).</li>
            <li><span id="t11-4" style="color: green">Span 4</span>. Style "color: green" defined. zz( '#t11-4' ).css( 'background-color', 'red' ).</li>
            <li><span id="t11-5">Span 5</span>. No style defined. zz( '#t11-5' ).css( {color:'white', 'background-color':'red'} ).</li>
            <li><span id="t11-6">Span 6</span>. No style defined. zz( '#t11-6' ).css( {color:'white', backgroundColor:'red'} ).</li>
        </ol>
        
        <h2>
            12. height, width, outerHeight and outerWidth
        </h2>
        zz( '#t12-1' ).height( '2em' ):
        <div id="t12-1">Div 1</div>

        zz( '#t12-2' ).height( 100 ):
        <div id="t12-2">Div 2</div>

        zz( '#t12-3' ).width( '10em' ):
        <div id="t12-3">Div 3</div>

        zz( '#t12-4' ).width( 800 ):
        <div id="t12-4">Div 4</div>

        zz( '#t12-5' ).height( '2em' ). Test outerHeight: 
        <div id="t12-5" class="outerTests">Div 5</div>

        zz( '#t12-6' ).height( 100 ). Test outerHeight:
        <div id="t12-6" class="outerTests">Div 6</div>

        zz( '#t12-7' ).width( '10em' ). Test outerWidth:
        <div id="t12-7" class="outerTests">Div 7</div>

        zz( '#t12-8' ).width( 800 ). Test outerWidth:
        <div id="t12-8" class="outerTests">Div 8</div>.
        
        <h2>
            13. offset, offsetParent and position
        </h2>
        <div id="t13-1">
            zz( '#t13-1' ).offset( { top: 10, left: 30 } )
            <div id="t13-1-div" class="offsetTests">t13-1-div</div>
        </div>
        <div>
            zz( '#t13-2-2' ).offsetParent().addClass( 'selected' )
            <ul id="t13-2">
                <li>I</li>
                <li id="t13-2-1" style="position: relative;">
                    II
                    <ul>
                        <li>A</li>
                        <li>
                            B
                            <ul>
                                <li>1</li>
                                <li id="t13-2-2">2</li>
                                <li>3</li>
                            </ul>
                        </li>
                        <li>C</li>
                    </ul>
                </li>
                <li>III</li>
            </ul>
        </div>
        <div id="t13-3">
            var position = zz( '#t13-3-div' ).position();
            <div id="t13-3-div" class="offsetTests">t13-3-div</div>
        </div>
        
        <h2>
            14. trigger, on and off
        </h2>
        <div>
            zz( '#t14-1' ).trigger( 'click' );<br>
            <button id="t14-1b">Button</button><br>
            Counter: <span id="t14-1c">0</span>
        </div>
        <div>
            zz( '#t14-2b' ).off( 'click' );<br>
            <button id="t14-2b">Button</button><br>
            Counter: <span id="t14-2c">0</span>
        </div>
        <div>
            zz( '#t14-3b' ).off();<br>
            <button id="t14-3b">Button</button><br>
            Counter: <span id="t14-3c">0</span>
        </div>
        <div>
            zz( '#t14-4b' ).off( 'click', listener );<br>
            <button id="t14-4b">Button</button><br>
            Counter: <span id="t14-4c">0</span>
        </div>
        <div>
            zz( '#t14-5b' ).off( 'click', listener2 );<br>
            <button id="t14-5b">Button</button><br>
            Counter: <span id="t14-5c">0</span>
        </div>
        <div>
            zz( '#t14-6b' ).off( 'focus', listener2 );<br>
            <button id="t14-6b">Button</button><br>
            Counter: <span id="t14-6c">0</span>
        </div>
        <div>
            zz( '#t14-7b' ).off( 'focus' );<br>
            <button id="t14-7b">Button</button><br>
            Counter: <span id="t14-7c">0</span>
        </div>
        <div>
            zz( '#t14-8b' ).off();<br>
            <button id="t14-8b">Button</button><br>
            Counter: <span id="t14-8c">0</span>
        </div>
        
        <h2>
            15. hide, show, toggle and isVisible
        </h2>
        <div>
            zz( '#t15-1' ).hide()
            <div id="t15-1">Must be hided</div>
        </div>
        <div>
            zz( '#t15-2' ).show()
            <div id="t15-2">Must be shown</div>
        </div>
        <div>
            '#t15-3' is visible: zz( '#t15-3' ).toggle()
            <div id="t15-3">Must be toggled</div>
        </div>
        <div>
            '#t15-4' is NOT visible: zz( '#t15-4' ).toggle()
            <div id="t15-4">Must be toggled</div>
        </div>
        <div>
            zz( '#t15-5' ).isVisible()
            <div id="t15-5">Is visible</div>
        </div>
        <div>
            zz( '#t15-6' ).isVisible()
            <div id="t15-6">Is NOT visible</div>
        </div>
        
        <h2>
            16. appendTo
        </h2>
        <div>
            appendTo string: zz( -div id="t16-1-1"-New div-div ).appendTo( '#t16-1' )
            <div id="t16-1" class="container">
                This is the container t16-1
            </div>
        </div>
        <div>
            appendTo Element: zz( -div  id="t16-1-2"-New div-div ).appendTo( document.getElementById( 't16-2' ) )
            <div id="t16-2" class="container">
                This is the container t16-2
            </div>
        </div>
        <div>
            appendTo simpleZZDOM: zz( -div id="t16-1-3"-New div-div ).appendTo( zz( '#t16-3' ) )
            <div id="t16-3" class="container">
                This is the container t16-3
            </div>
        </div>
        <div>
            appendTo multipleZZDOM: zz( -div id="t16-1-4"-New div-div ).appendTo( zz( '.t16-4-class' ) )
            <div id="t16-4">
                <div id="t16-4a" class="container t16-4-class">
                    This is the container t16-4a
                </div>
                <div>Separator 1</div>
                <div id="t16-4b" class="container t16-4-class">
                    This is the container t16-4b
                </div>
                <div>Separator 2</div>
                <div id="t16-4c" class="container t16-4-class">
                    This is the container t16-4c
                </div>
            </div>
        </div>
        <div>
            appendTo Element: zz( -div  id="t16-1-5"-New div-div ).appendTo( document.getElementById( 'non-existing-id-DOM' ) )
            <div id="t16-5" class="container">
                This is the container t16-5
            </div>
        </div>
    </body>
</html>
